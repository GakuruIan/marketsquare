<!-- password-reset.hbs -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Reset Your Password</title>
  <!--[if mso]>
  <style type="text/css">
    body, table, td {font-family: Arial, Helvetica, sans-serif !important;}
  </style>
  <![endif]-->
  <style>
    /* Reset Styles */
    body {
      margin: 0;
      padding: 0;
      background-color: #f8faf9;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    table {
      border-collapse: collapse;
      border-spacing: 0;
    }
    
    img {
      border: 0;
      outline: none;
      text-decoration: none;
      -ms-interpolation-mode: bicubic;
    }
    
    /* Container */
    .email-container {
      max-width: 600px;
      margin: 0 auto;
      background-color: #ffffff;
    }
    
    /* Header */
    .header {
      background: linear-gradient(135deg, #154734 0%, #1a5c43 100%);
      padding: 48px 40px;
      text-align: center;
    }
    
    .logo-container {
      margin-bottom: 16px;
    }
    
    .logo-text {
      font-size: 32px;
      font-weight: 700;
      color: #ffffff;
      letter-spacing: -0.5px;
      margin: 0;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    .header-subtitle {
      font-size: 14px;
      color: #a7d5c3;
      margin: 8px 0 0 0;
      font-weight: 500;
      letter-spacing: 0.5px;
    }
    
    /* Content */
    .content {
      padding: 48px 40px;
    }
    
    .greeting {
      font-size: 24px;
      font-weight: 600;
      color: #1f2937;
      margin: 0 0 24px 0;
      letter-spacing: -0.3px;
    }
    
    .message {
      font-size: 16px;
      line-height: 1.6;
      color: #6b7280;
      margin: 0 0 24px 0;
    }
    
    .message strong {
      color: #374151;
      font-weight: 600;
    }
    
    /* Code Container - REDUCED SIZE */
    .code-section {
      background: linear-gradient(135deg, #e8f5f0 0%, #d4ebe3 100%);
      border: 2px solid #154734;
      border-radius: 12px;
      padding: 28px 24px;
      text-align: center;
      margin: 28px 0;
      box-shadow: 0 4px 6px -1px rgba(21, 71, 52, 0.1), 0 2px 4px -1px rgba(21, 71, 52, 0.06);
    }
    
    .code-label {
      font-size: 12px;
      font-weight: 600;
      color: #154734;
      text-transform: uppercase;
      letter-spacing: 1.2px;
      margin: 0 0 12px 0;
    }
    
    .verification-code {
      font-size: 36px;
      font-weight: 700;
      color: #0f3a28;
      letter-spacing: 10px;
      font-family: 'Courier New', Courier, monospace;
      margin: 0;
      text-shadow: 0 2px 4px rgba(21, 71, 52, 0.15);
      line-height: 1.2;
    }
    
    .code-divider {
      width: 50px;
      height: 3px;
      background: linear-gradient(90deg, #154734, #1a5c43);
      margin: 16px auto;
      border-radius: 2px;
    }
    
    .code-validity {
      font-size: 13px;
      color: #154734;
      margin: 12px 0 0 0;
      font-weight: 500;
    }
    
    .code-validity .time {
      font-weight: 700;
      color: #0f3a28;
    }
    
    /* Info Box */
    .info-box {
      background-color: #fffbeb;
      border-left: 4px solid #f59e0b;
      border-radius: 8px;
      padding: 20px 24px;
      margin: 32px 0;
    }
    
    .info-box-title {
      font-size: 15px;
      font-weight: 700;
      color: #92400e;
      margin: 0 0 8px 0;
      display: flex;
      align-items: center;
    }
    
    .info-icon {
      display: inline-block;
      width: 20px;
      height: 20px;
      margin-right: 8px;
      font-size: 18px;
    }
    
    .info-box-text {
      font-size: 14px;
      line-height: 1.6;
      color: #78350f;
      margin: 0;
    }
    
    /* Security Notice */
    .security-notice {
      background: linear-gradient(135deg, #fef3f2 0%, #fee2e2 100%);
      border: 1px solid #fca5a5;
      border-radius: 12px;
      padding: 24px;
      margin: 32px 0;
    }
    
    .security-notice-title {
      font-size: 15px;
      font-weight: 700;
      color: #991b1b;
      margin: 0 0 12px 0;
      display: flex;
      align-items: center;
    }
    
    .security-notice-text {
      font-size: 14px;
      line-height: 1.6;
      color: #7f1d1d;
      margin: 0;
    }
    
    /* Help Section */
    .help-section {
      background-color: #f9fafb;
      border-radius: 12px;
      padding: 24px;
      margin: 32px 0 0 0;
      text-align: center;
    }
    
    .help-text {
      font-size: 14px;
      color: #6b7280;
      margin: 0 0 12px 0;
    }
    
    .support-link {
      display: inline-block;
      color: #154734;
      text-decoration: none;
      font-weight: 600;
      font-size: 14px;
      padding: 10px 20px;
      border-radius: 6px;
      transition: background-color 0.2s;
    }
    
    .support-link:hover {
      background-color: #e8f5f0;
    }
    
    /* Footer */
    .footer {
      background-color: #f9fafb;
      padding: 40px;
      text-align: center;
      border-top: 1px solid #e5e7eb;
    }
    
    .footer-text {
      font-size: 13px;
      color: #9ca3af;
      line-height: 1.6;
      margin: 0 0 16px 0;
    }
    
    .footer-links {
      margin: 16px 0;
    }
    
    .footer-link {
      color: #154734;
      text-decoration: none;
      font-size: 13px;
      font-weight: 500;
      margin: 0 12px;
    }
    
    .footer-link:hover {
      text-decoration: underline;
    }
    
    .social-links {
      margin: 20px 0;
    }
    
    .social-link {
      display: inline-block;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background-color: #e5e7eb;
      color: #154734;
      text-decoration: none;
      line-height: 36px;
      margin: 0 6px;
      font-size: 16px;
      transition: all 0.2s;
    }
    
    .social-link:hover {
      background-color: #154734;
      color: #ffffff;
      transform: translateY(-2px);
    }
    
    .copyright {
      font-size: 12px;
      color: #9ca3af;
      margin: 20px 0 0 0;
    }
    
    /* Responsive */
    @media only screen and (max-width: 600px) {
      .email-container {
        width: 100% !important;
      }
      
      .header,
      .content,
      .footer {
        padding: 32px 24px !important;
      }
      
      .verification-code {
        font-size: 32px !important;
        letter-spacing: 6px !important;
      }
      
      .greeting {
        font-size: 22px !important;
      }
      
      .code-section {
        padding: 24px 16px !important;
      }
    }
    
    /* Dark Mode Support */
    @media (prefers-color-scheme: dark) {
      .info-box {
        background-color: #fffbeb;
      }
      
      .security-notice {
        background: linear-gradient(135deg, #fef3f2 0%, #fee2e2 100%);
      }
    }
  </style>
</head>
<body>
  <table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
    <tr>
      <td align="center" style="padding: 40px 20px;">
        
        <!-- Email Container -->
        <table class="email-container" role="presentation" width="600" cellspacing="0" cellpadding="0" border="0">
          
          <!-- Header -->
          <tr>
            <td class="header">
              <div class="logo-container">
                <h1 class="logo-text">MarketSquare</h1>
                <p class="header-subtitle">SECURE ‚Ä¢ TRUSTED ‚Ä¢ RELIABLE</p>
              </div>
            </td>
          </tr>
          
          <!-- Content -->
          <tr>
            <td class="content">
              
              <h2 class="greeting">Hi {{username}},</h2>
              
              <p class="message">
                We received a request to reset the password for your account. To proceed with resetting your password, please use the verification code below:
              </p>
              
              <!-- Verification Code -->
              <div class="code-section">
                <p class="code-label">Your Verification Code</p>
                <div class="code-divider"></div>
                <p class="verification-code">{{resetCode}}</p>
                <div class="code-divider"></div>
                <p class="code-validity">
                  Valid for <span class="time">{{expiryMinutes}} minutes</span>
                </p>
              </div>
              
              <p class="message">
                Enter this code on the password reset page to create your new password. If you didn't request a password reset, you can safely ignore this email.
              </p>
              
              <!-- Info Box -->
              <div class="info-box">
                <p class="info-box-title">
                  <span class="info-icon">üí°</span>
                  Quick Tip
                </p>
                <p class="info-box-text">
                  For your security, this code will expire in {{expiryMinutes}} minutes. After that, you'll need to request a new one.
                </p>
              </div>
              
              <!-- Security Notice -->
              <div class="security-notice">
                <p class="security-notice-title">
                  <span class="info-icon">üîí</span>
                  Security Notice
                </p>
                <p class="security-notice-text">
                  Never share this code with anyone. MarketSquare will never ask you for your verification code via phone, email, or any other method. If you suspect unauthorized access to your account, please contact our support team immediately.
                </p>
              </div>
              
              <!-- Help Section -->
              <div class="help-section">
                <p class="help-text">Need help or have questions?</p>
                <a href="#" class="support-link">Contact Support Team ‚Üí</a>
              </div>
              
            </td>
          </tr>
          
          <!-- Footer -->
          <tr>
            <td class="footer">
              
              <p class="footer-text">
                This is an automated message, please do not reply to this email.
              </p>
              
              <div class="footer-links">
                <a href="#" class="footer-link">Privacy Policy</a>
                <a href="#" class="footer-link">Terms of Service</a>
                <a href="#" class="footer-link">Help Center</a>
              </div>
              
              <div class="social-links">
                <a href="#" class="social-link">f</a>
                <a href="#" class="social-link">ùïè</a>
              
              </div>
              
              <p class="copyright">
                &copy; {{year}} MarketSquare. All rights reserved.<br>
                UpperHill, Nairobi, Kenya
              </p>
              
            </td>
          </tr>
          
        </table>
        
      </td>
    </tr>
  </table>
</body>
</html>